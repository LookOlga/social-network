{"version":3,"sources":["components/common/FormsControls/FormsControls.js","utils/validation/validator.js","components/hoc/withAuthRedirect.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileStatus/ProfileStatusWithHooks.js","components/Profile/ProfileInfo/ProfileInfo.js","assets/images/avatar/ava.jpg","components/Profile/PostList/PostList.js","components/Profile/PostList/PostListContainer.js","components/Profile/Profile.js","components/Profile/ProfileContainer.js"],"names":["FormControl","input","meta","children","touched","error","hasError","className","Textarea","props","restProps","child","Input","required","value","maxLengthCreator","maxLength","length","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","type","onBlur","onChange","e","currentTarget","updateUserStatus","autoFocus","ProfileInfo","profile","authorizedUserId","src","photos","large","fullName","Preloader","PostList","memo","postElements","posts","map","post","name","postText","PostReduxForm","onSubmit","values","addPost","newPost","maxLength10","reduxForm","form","handleSubmit","Field","component","validate","PostListContainer","profilePage","newPostText","dispatch","addPostActionCreator","Profile","ProfileContainerAPI","userId","match","params","history","getUserProfile","getUserStatus","ProfileContainer","compose","withRouter"],"mappings":"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","file":"static/js/4.c2b18f7c.chunk.js","sourcesContent":["import React from \"react\";\r\nimport './form-controls.css';\r\nconst FormControl = ({input, meta, children}) => {\r\n    const {touched, error} = meta;\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={\"form-control\" + \" \" + (hasError ? \"error\" : \"\")}>\r\n            {children}\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\nexport const Textarea = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n        <FormControl {...props}>\r\n            <textarea {...input} {...restProps} />\r\n        </FormControl>\r\n          \r\n    )\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, child, ...restProps} = props;\r\n    return (\r\n    <FormControl {...props}>\r\n        <input {...input} {...restProps}/>\r\n        </FormControl>\r\n    )\r\n}\r\n\r\n","export const required= value => {\r\n    if(value) {\r\n        return undefined;\r\n    }\r\n    return 'Field is required';\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return \"Max length is\" + maxLength + \"symbols\";\r\n    return undefined;\r\n}\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={\"/login\"}/>\r\n\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    const ConnectedAuthRedirectComponent  = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from \"react\";\r\n\r\nimport './prosile-status.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n   const [editMode, setEditMode] = useState(false);\r\n   const [status, setStatus] = useState(props.status);\r\n\r\n   useEffect(() => {\r\n       setStatus(props.status);\r\n   }, [props.status]);\r\n   const activateEditMode = () => {\r\n      setEditMode(true);\r\n   }\r\n   const deactivateEditMode = () => {\r\n       setEditMode(false);\r\n   }\r\n\r\n   const onStatusChange = (e) => {\r\n       setStatus(e.currentTarget.value);\r\n       props.updateUserStatus(status);\r\n   }\r\n    return (\r\n        <div className=\"status\">\r\n            {!editMode &&\r\n            <div className=\"status__state\"\r\n                 onDoubleClick={activateEditMode}>\r\n                {props.status || \"Status empty\"}</div>\r\n                }\r\n            {editMode && <input className=\"status__input\"\r\n                type=\"text\"\r\n                value={props.status}\r\n                onBlur={deactivateEditMode}\r\n                onChange={onStatusChange}\r\n                autoFocus={true}/> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\n\r\nimport './profile-info.css';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\nimport ProfileStatusWithHooks from \"../ProfileStatus/ProfileStatusWithHooks\";\r\nimport avatar from \"../../../assets/images/avatar/ava.jpg\";\r\n\r\nconst ProfileInfo = (props) => {\r\n    const {profile, status, updateUserStatus, authorizedUserId} = props;\r\n    if(!profile) {\r\n        return <Preloader />\r\n    }\r\n    return (\r\n       <div className=\"profile__info\">\r\n            <div className=\"profile__photo\">\r\n                <img src={profile.photos.large}/>\r\n            </div>\r\n            <div className=\"profile__data\">\r\n                <div className=\"profile__name\">{profile.fullName}</div>\r\n                <ProfileStatusWithHooks status={status} updateUserStatus={updateUserStatus} />\r\n                <ul className=\"profile__items\">\r\n                    <li className=\"profile__item birth-date\">\r\n                        Date of birth:\r\n                        <span className=\"date\">XX</span>\r\n                        <span className=\"month\">XX</span>\r\n                        <span className=\"year\">XXXX</span>\r\n                    </li>\r\n                    <li className=\"profile__item\">City: <span>Unknown</span></li>\r\n                    <li className=\"profile__item\">Education: <span>Unknown</span></li>\r\n                    <li className=\"profile__item\">Website: <span>Unknown</span></li>\r\n                </ul> \r\n            </div>\r\n       </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","export default __webpack_public_path__ + \"static/media/ava.78753fbb.jpg\";","import React, {Component} from 'react';\r\n\r\nimport './post-list.css';\r\nimport './post.css';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validation/validator\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\n\r\nconst PostList = React.memo((props) => {\r\n\r\n    const sendNewPost = (values) => {\r\n        props.addPost(values.newPost);\r\n    }\r\n\r\n    const postElements = props.posts.map(post =>\r\n        <li className=\"post__item\">\r\n            <div className=\"post__photo\">\r\n                <img src=\"\"/>\r\n            </div>\r\n            <div className=\"post__content\">\r\n                <div className=\"post__name\">{post.name}</div>\r\n                <p className=\"post__text\">{post.postText}</p>\r\n            </div>\r\n        </li>)\r\n    return (\r\n        <div className=\"post__wrapper\">\r\n            <ul className=\"post__list\">\r\n                {postElements}\r\n            </ul>\r\n            <PostReduxForm onSubmit={sendNewPost}/>\r\n        </div>\r\n    )\r\n});\r\n\r\nconst maxLength10 =maxLengthCreator(10);\r\nconst PostForm = (props) => {\r\n    const {handleSubmit} = props;\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"post-form\">\r\n             <Field\r\n                 className=\"post-form__field\"\r\n                 name={\"newPost\"}\r\n                 component={Textarea}\r\n                 validate={[required, maxLength10]}/>\r\n            <button className=\"post-form__btn\" >Add Post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst PostReduxForm = reduxForm({\r\n    form: 'posts'\r\n})(PostForm);\r\n\r\nexport default PostList;","import React, {Component} from 'react';\r\n\r\nimport {addPostActionCreator} from \"../../../redux/profileReducer\";\r\nimport PostList from \"./PostList\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\n// const PrevPostListContainer = (props) => {\r\n//     let state = props.store.getState();\r\n//\r\n//     let addPost = () => {\r\n//         props.store.dispatch(addPostActionCreator());\r\n//     }\r\n//\r\n//     let onPostChange = (text) => {\r\n//         props.store.dispatch(updateNewPostActionCreator(text));\r\n//     }\r\n//     return (\r\n//        <PostList updateNewPostText={onPostChange} addPost={addPost} posts={state.profilePage.posts} newPostText={state.profilePage.newPostText}/>\r\n//     )\r\n// }\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nlet mapDispatchToState = (dispatch) => {\r\n    return {\r\n        addPost: (newPost) => {\r\n            dispatch(addPostActionCreator(newPost));\r\n        },\r\n    }\r\n}\r\n\r\nconst PostListContainer = connect(mapStateToProps, mapDispatchToState)(PostList);\r\n\r\nexport default PostListContainer;","import React from 'react';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport PostListContainer from \"./PostList/PostListContainer\";\r\nimport './profile.css';\r\n\r\nconst Profile = (props) => {\r\n    return (\r\n        <div className=\"profile\">\r\n            <ProfileInfo profile={props.profile} status={props.status} updateUserStatus={props.updateUserStatus} authorizedUserId={props.authorizedUserId}/>\r\n            {/* <PostForm /> */}\r\n            <PostListContainer/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport Profile from \"./Profile\";\r\nimport {getUserProfile, getUserStatus, updateUserStatus} from \"../../redux/profileReducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass  ProfileContainerAPI extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId;\r\n        if(!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId) {\r\n                this.props.history.push('/login');\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateUserStatus={this.props.updateUserStatus} authorizedUserId={this.props.authorizedUserId}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nconst ProfileContainer = compose(\r\n    connect(mapStateToProps, {getUserProfile, getUserStatus, updateUserStatus}),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainerAPI)\r\n\r\n\r\n// const AuthRedirectComponent = withAuthRedirect(ProfileContainerAPI);\r\n// const WithUrlDataContainerComponent = withRouter(AuthRedirectComponent);\r\n// const ProfileContainer = connect(mapStateToProps, {getUserProfile})(WithUrlDataContainerComponent);\r\n\r\nexport default ProfileContainer;"],"sourceRoot":""}